var y=Object.defineProperty;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(r,e,t)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,m=(r,e)=>{for(var t in e||(e={}))x.call(e,t)&&f(r,t,e[t]);if(p)for(var t of p(e))v.call(e,t)&&f(r,t,e[t]);return r};import{j as c,P as I,r as l,p as b,R as G}from"./vendor.f58e1a49.js";const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}};S();const o=c.exports.jsx,d=c.exports.jsxs,u=c.exports.Fragment,h=({setCategories:r})=>{const[e,t]=l.exports.useState("");return o(u,{children:o("form",{onSubmit:n=>{n.preventDefault(),console.log("Form Enviaado"),e.trim().length>2&&(r(a=>[e,...a]),t(""))},children:o("input",{type:"text",value:e,onChange:n=>{t(n.target.value)}})})})};h.propTypes={setCategories:I.func.isRequired};const T=({id:r,title:e,url:t})=>d("div",{className:"card",children:[o("img",{src:t,alt:e}),o("p",{children:e})]}),j=async r=>{console.log(r);const e=`https://api.giphy.com/v1/gifs/search?q=${encodeURI(r)}&limit=10&api_key=lJ35D7DiT6IDgmMgT6JhqUcyKuD6aRTq`,t=await fetch(e),{data:i}=await t.json(),s=i.map(n=>{var a;return{id:n.id,title:n.title,url:(a=n.images)==null?void 0:a.downsized_medium.url}});return console.log("Imagenes obtenidas de helpers/getGifs",s),s},R=r=>{const[e,t]=l.exports.useState({data:[],loading:!0});return l.exports.useEffect(()=>{j(r).then(i=>{t({data:i,loading:!1})})},[r]),e},q=({category:r})=>{console.log("recibiendo category",r);const{data:e,loading:t}=R(r);return console.log("Estado del loading:",t),d(u,{children:[o("h3",{children:r}),t&&o("p",{children:"Buscando..."}),o("div",{className:"card-grid",children:e.map(i=>o(T,m({},i),i.id))})]})},g=({title:r})=>{let[e,t]=l.exports.useState(["Bienvenido"]);return d(u,{children:[o("h2",{children:r}),o(h,{setCategories:t}),o("ul",{children:e.map(i=>o(q,{category:i},i))})]})};g.propTypes={title:b.exports.PropTypes.string.isRequired};G.render(o(g,{title:"Buscador de GIFs"}),document.getElementById("root"));
