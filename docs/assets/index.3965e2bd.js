var y=Object.defineProperty;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(s,e,t)=>e in s?y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,h=(s,e)=>{for(var t in e||(e={}))x.call(e,t)&&f(s,t,e[t]);if(p)for(var t of p(e))v.call(e,t)&&f(s,t,e[t]);return s};import{j as c,P as I,r as l,p as b,R as G}from"./vendor.f58e1a49.js";const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};S();const o=c.exports.jsx,d=c.exports.jsxs,u=c.exports.Fragment,m=({setCategories:s})=>{const[e,t]=l.exports.useState("");return o(u,{children:o("form",{onSubmit:n=>{n.preventDefault(),console.log("Form Enviaado"),e.trim().length>2&&(s(a=>[e,...a]),t(""))},children:o("input",{type:"text",value:e,onChange:n=>{t(n.target.value)}})})})};m.propTypes={setCategories:I.func.isRequired};const T=({id:s,title:e,url:t})=>d("div",{className:"card",children:[o("img",{src:t,alt:e}),o("p",{children:e})]}),j=async s=>{console.log(s);const e=`https://api.giphy.com/v1/gifs/search?q=${encodeURI(s)}&limit=10&api_key=lJ35D7DiT6IDgmMgT6JhqUcyKuD6aRTq`,t=await fetch(e),{data:i}=await t.json(),r=i.map(n=>{var a;return{id:n.id,title:n.title,url:(a=n.images)==null?void 0:a.downsized_medium.url}});return console.log("Imagenes obtenidas de helpers/getGifs",r),r},R=s=>{const[e,t]=l.exports.useState({data:[],loading:!0});return l.exports.useEffect(()=>{j(s).then(i=>{t({data:i,loading:!1})})},[s]),e},q=({category:s})=>{console.log("recibiendo category",s);const{data:e,loading:t}=R(s);return console.log("Estado del loading:",t),d(u,{children:[o("h3",{children:s}),t&&o("p",{children:"Buscando..."}),o("div",{className:"card-grid",children:e.map(i=>o(T,h({},i),i.id))})]})},g=({title:s})=>{let[e,t]=l.exports.useState(["One Push"]);return d(u,{children:[o("h2",{children:s}),o(m,{setCategories:t}),o("ul",{children:e.map(i=>o(q,{category:i},i))})]})};g.propTypes={title:b.exports.PropTypes.string.isRequired};G.render(o(g,{title:"Buscador de GIFs"}),document.getElementById("root"));
